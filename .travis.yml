os: linux
sudo: required
dist: trusty

notifications:
  email: false

branches:
  only:
    - travis-ci

language: C++

before_install:
  - apt-cache search openmpi
  - sudo apt-get install gfortran
  - sudo apt-get install openmpi-bin libopenmpi-dev
  - ompi_info
  - sudo apt-get install python-dev
  - sudo apt-get install doxygen
  - sudo apt-get install cmake
  - wget https://downloads.sourceforge.net/swig/swig-3.0.12.tar.gz
  - tar xvf swig-3.0.12.tar.gz
  - cd swig-3.0.12
  - ./configure
  - make
  - sudo make install
  - cd ../
  - sudo pip install scipy --upgrade
  - sudo pip install numpy --upgrade
  - sudo pip install mpi4py --upgrade
  - test -n $CC  && unset CC
  - test -n $FCC  && unset FCC
  - test -n $CXX && unset CXX
  - mkdir build

script:
  - cd build
  - cmake -DCMAKE_TOOLCHAIN_FILE=../Targets/Linux.cmake ..
  - make
  - make test
  - cat Testing/Temporary/LastTest.log
